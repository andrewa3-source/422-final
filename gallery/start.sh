#!/bin/bash
tarball="
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
"

# Decode the tarball and extract it
mkdir gallery
echo "Restoring files to the 'gallery' directory..."
echo "$tarball" | base64 --decode | tar -xz -C gallery

echo "Files have been restored inside the 'gallery' directory."

# Install dependencies and run Flask app
sudo apt-get update
sudo apt-get install -yq python3-pip python3-venv

cd gallery
python3 -m venv gallery_venv
source gallery_venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
export FLASK_APP="main.py"
export FLASK_RUN_PORT="80"
export FLASK_RUN_HOST="0.0.0.0"
flask run
